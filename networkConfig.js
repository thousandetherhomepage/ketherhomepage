import { ethers } from "ethers";

import contractJSON from "~/artifacts/contracts/KetherHomepage.sol/KetherHomepage.json";
import ketherNFTJSON from "~/artifacts/contracts/KetherNFT.sol/KetherNFT.json";
import ketherViewJSON from "~/artifacts/contracts/KetherView.sol/KetherView.json";

export const deployConfig = {
    homestead: {
        name: "main",
        contractAddr: "0xb5fe93ccfec708145d6278b0c71ce60aa75ef925",
        ketherNFTAddr: "0x7bb952ab78b28a62b1525aca54a71e7aa6177645",
        ketherViewAddr: "0xaC292791A8b398698363F820dd6FbEE6EDF71442",
        ketherSortitionAddr: "0xa9a57f7d2A54C1E172a7dC546fEE6e03afdD28E2",
        web3Fallback: "https://mainnet.infura.io/v3/fa9f29a052924745babfc1d119465148",
        etherscanPrefix: "https://etherscan.io/address/",
        prerendered: {
            image: "https://storage.googleapis.com/storage.thousandetherhomepage.com/mainnet.png",
            data: "https://storage.thousandetherhomepage.com/mainnet.json",
            loadRemoteImages: true,
            loadFromWeb3: true,
        },
        nftView: "https://opensea.io/assets/",
        flashEscrowInitCode: "0x608060405234801561001057600080fd5b506040516102db3803806102db83398101604081905261002f91610139565b6000826001600160a01b03168260405161004991906101ac565b6000604051808303816000865af19150503d8060008114610086576040519150601f19603f3d011682016040523d82523d6000602084013e61008b565b606091505b50509050806100b55760405162461bcd60e51b81526004016100ac906101bf565b60405180910390fd5b826001600160a01b0316ff5b60006100d46100cf84610216565b6101fa565b9050828152602081018484840111156100ec57600080fd5b6100f7848285610251565b509392505050565b805161010a816102c3565b92915050565b600082601f83011261012157600080fd5b81516101318482602086016100c1565b949350505050565b6000806040838503121561014c57600080fd5b600061015885856100ff565b92505060208301516001600160401b0381111561017457600080fd5b61018085828601610110565b9150509250929050565b6000610194825190565b6101a2818560208601610251565b9290920192915050565b60006101b8828461018a565b9392505050565b6020808252810161010a81601f81527f466c617368457363726f773a207461726765742063616c6c206661696c656400602082015260400190565b600061020560405190565b90506102118282610281565b919050565b60006001600160401b0382111561022f5761022f6102ad565b601f19601f83011660200192915050565b60006001600160a01b03821661010a565b60005b8381101561026c578181015183820152602001610254565b8381111561027b576000848401525b50505050565b601f19601f83011681018181106001600160401b03821117156102a6576102a66102ad565b6040525050565b634e487b7160e01b600052604160045260246000fd5b6102cc81610240565b81146102d757600080fd5b5056fe",
    },
    rinkeby: {
        name: "rinkeby",
        contractAddr: "0xb88404dd8fe4969ef67841250baef7f04f6b1a5e",
        ketherNFTAddr: "0xB7fCb57a5ce2F50C3203ccda27c05AEAdAF2C221",
        ketherViewAddr: "0xd58D4ff574140472F9Ae2a90B6028Df822c10109",
        ketherSortitionAddr: "0xA194a30C201523631E29EFf80718D72994eFa1d6",
        web3Fallback: "https://rinkeby.infura.io/v3/fa9f29a052924745babfc1d119465148",
        etherscanPrefix: "https://rinkeby.etherscan.io/address/",
        prerendered: {
            image: "https://storage.googleapis.com/storage.thousandetherhomepage.com/rinkeby.png",
            data: "https://storage.thousandetherhomepage.com/rinkeby.json",
            loadRemoteImages: true,
            loadFromWeb3: true,
        },
        nftView: "https://testnets.opensea.io/assets/",
        flashEscrowInitCode: "0x608060405234801561001057600080fd5b506040516103e83803806103e883398181016040528101906100329190610175565b60008273ffffffffffffffffffffffffffffffffffffffff1682604051610059919061021d565b6000604051808303816000865af19150503d8060008114610096576040519150601f19603f3d011682016040523d82523d6000602084013e61009b565b606091505b50509050806100df576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100d690610234565b60405180910390fd5b8273ffffffffffffffffffffffffffffffffffffffff16ff5b600061010b61010684610279565b610254565b90508281526020810184848401111561012357600080fd5b61012e848285610303565b509392505050565b600081519050610145816103d0565b92915050565b600082601f83011261015c57600080fd5b815161016c8482602086016100f8565b91505092915050565b6000806040838503121561018857600080fd5b600061019685828601610136565b925050602083015167ffffffffffffffff8111156101b357600080fd5b6101bf8582860161014b565b9150509250929050565b60006101d4826102aa565b6101de81856102b5565b93506101ee818560208601610303565b80840191505092915050565b6000610207601f836102c0565b9150610212826103a7565b602082019050919050565b600061022982846101c9565b915081905092915050565b6000602082019050818103600083015261024d816101fa565b9050919050565b600061025e61026f565b905061026a8282610336565b919050565b6000604051905090565b600067ffffffffffffffff82111561029457610293610367565b5b61029d82610396565b9050602081019050919050565b600081519050919050565b600081905092915050565b600082825260208201905092915050565b60006102dc826102e3565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60005b83811015610321578082015181840152602081019050610306565b83811115610330576000848401525b50505050565b61033f82610396565b810181811067ffffffffffffffff8211171561035e5761035d610367565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6000601f19601f8301169050919050565b7f466c617368457363726f773a207461726765742063616c6c206661696c656400600082015250565b6103d9816102d1565b81146103e457600080fd5b5056fe",
    },
    sepolia: {
        name: "sepolia",
        contractAddr: "0xA6fE3123bE665C716F71944705ecC8057E35cd90",
        ketherNFTAddr: "0x6B69B05a5478A2390493765b496F70A52fE7b816",
        ketherViewAddr: "0xc7Eaa7aC2dE304d9cDAd21AF81BffA273363d3d1",
        ketherSortitionAddr: "0x09BCa032F3b3a08afCFf03826edf4F36481b486C",
        web3Fallback: "https://sepolia.infura.io/v3/fa9f29a052924745babfc1d119465148",
        etherscanPrefix: "https://sepolia.etherscan.io/address/",
        prerendered: {
            image: "https://storage.googleapis.com/storage.thousandetherhomepage.com/sepolia.png",
            data: "https://storage.thousandetherhomepage.com/sepolia.json",
            loadRemoteImages: true,
            loadFromWeb3: true,
        },
        nftView: "https://testnets.opensea.io/assets/",
        flashEscrowInitCode: "0x608060405234801561001057600080fd5b506040516102db3803806102db83398101604081905261002f91610139565b6000826001600160a01b03168260405161004991906101ac565b6000604051808303816000865af19150503d8060008114610086576040519150601f19603f3d011682016040523d82523d6000602084013e61008b565b606091505b50509050806100b55760405162461bcd60e51b81526004016100ac906101bf565b60405180910390fd5b826001600160a01b0316ff5b60006100d46100cf84610216565b6101fa565b9050828152602081018484840111156100ec57600080fd5b6100f7848285610251565b509392505050565b805161010a816102c3565b92915050565b600082601f83011261012157600080fd5b81516101318482602086016100c1565b949350505050565b6000806040838503121561014c57600080fd5b600061015885856100ff565b92505060208301516001600160401b0381111561017457600080fd5b61018085828601610110565b9150509250929050565b6000610194825190565b6101a2818560208601610251565b9290920192915050565b60006101b8828461018a565b9392505050565b6020808252810161010a81601f81527f466c617368457363726f773a207461726765742063616c6c206661696c656400602082015260400190565b600061020560405190565b90506102118282610281565b919050565b60006001600160401b0382111561022f5761022f6102ad565b601f19601f83011660200192915050565b60006001600160a01b03821661010a565b60005b8381101561026c578181015183820152602001610254565b8381111561027b576000848401525b50505050565b601f19601f83011681018181106001600160401b03821117156102a6576102a66102ad565b6040525050565b634e487b7160e01b600052604160045260246000fd5b6102cc81610240565b81146102d757600080fd5b5056fe",
    },
};
deployConfig.mainnet = deployConfig.homestead;
export const defaultNetwork = "homestead";

export const loadContracts = (networkConfig, provider) => {
    const contract = new ethers.Contract(networkConfig.contractAddr, contractJSON.abi, provider);
    const ketherNFT = new ethers.Contract(networkConfig.ketherNFTAddr, ketherNFTJSON.abi, provider);
    const ketherView = new ethers.Contract(networkConfig.ketherViewAddr, ketherViewJSON.abi, provider);

    return {contract, ketherNFT, ketherView}
}
